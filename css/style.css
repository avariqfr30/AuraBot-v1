/* This ensures that newlines in the AI's text are rendered correctly. */
.chat-bubble p {
    white-space: pre-wrap;
}

/* Styling for lists that the Markdown parser might create */
.chat-bubble ul, .chat-bubble ol {
    list-style-position: inside;
    padding-left: 1rem;
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
}
.chat-bubble ul {
    list-style-type: disc;
}
.chat-bubble ol {
    list-style-type: decimal;
}

/* Styling for code blocks */
.chat-bubble pre {
    background-color: #1f2937;
    color: #f9fafb;
    padding: 1rem;
    border-radius: 0.5rem;
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
    overflow-x: auto;
    font-family: 'Courier New', Courier, monospace;
}

.chat-bubble code {
    font-family: 'Courier New', Courier, monospace;
}

/* ================================================================= */
/* --- Tuxedo Cat Animation --- */
/* ================================================================= */
#animated-cat-container {
    animation: bobbing-cat 3s ease-in-out infinite;
}

@keyframes bobbing-cat {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-4px);
    }
}

/* ================================================================= */
/* --- Styles for Agentic Tools (in Modals) --- */
/* ================================================================= */

.mood-tracker-container { display: flex; justify-content: space-around; gap: 0.5rem; padding-top: 0.5rem; }
.mood-button { background-color: #374151; border: none; border-radius: 9999px; padding: 0.75rem; font-size: 1.5rem; cursor: pointer; transition: transform 0.2s, background-color 0.2s; }
.mood-button:hover { background-color: #4b5563; transform: scale(1.1); }
.breathing-exercise-container { text-align: center; padding: 1rem; border: 1px solid #374151; border-radius: 0.75rem; }
.breathing-pacer { width: 100px; height: 100px; background-color: #db2777; border-radius: 9999px; margin: 1rem auto; display: flex; justify-content: center; align-items: center; transition: transform 4s ease-in-out; }
.breathing-pacer.inhale { transform: scale(1.5); }
.breathing-pacer.exhale { transform: scale(0.5); }
.breathing-pacer.hold { transform: scale(1.5); } 
.breathing-status { font-weight: 600; font-size: 1.125rem; height: 2rem; }
.affirmation-card { padding: 1.25rem; border-left: 4px solid #db2777; background-color: #1f2937; border-radius: 0.5rem; }
.affirmation-text { font-style: italic; font-size: 1.125rem; margin-bottom: 1rem; }
.checklist-scroll-container { max-height: 280px; overflow-y: auto; background-color: #111827; border: 1px solid #374151; border-radius: 0.5rem; padding: 1rem; margin-top: 0.5rem; }
.checklist-columns { column-count: 2; column-gap: 1.5rem; }
.checklist-columns li { -webkit-column-break-inside: avoid; page-break-inside: avoid; break-inside: avoid; }
.checklist-scroll-container::-webkit-scrollbar { width: 8px; }
.checklist-scroll-container::-webkit-scrollbar-track { background: #1f2937; border-radius: 4px; }
.checklist-scroll-container::-webkit-scrollbar-thumb { background-color: #4b5563; border-radius: 4px; border: 2px solid #1f2937; }
.checklist-scroll-container::-webkit-scrollbar-thumb:hover { background-color: #6b7280; }

/* ================================================================= */
/* --- Pitch Black & Vibrant Pink UI --- */
/* ================================================================= */

/* --- 1. Pitch Black Background & Font --- */
body {
    background: #000000;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}

/* --- 2. Main Dark Glass Panels (Sidebar, Modals) --- */
#chatSidebar,
#settingsModal .relative,
#toolsModal .relative {
    background-color: rgba(10, 10, 10, 0.5);
    backdrop-filter: blur(25px) saturate(150%) brightness(1.1);
    -webkit-backdrop-filter: blur(25px) saturate(150%) brightness(1.1);
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.37);
    border-radius: 1.5rem;
}
#settingsModal .relative, #toolsModal .relative { border-radius: 1rem; }
#chatSidebar { border-top-right-radius: 0; border-bottom-right-radius: 0; }
.flex-1.flex.flex-col { background-color: transparent; }

/* --- 3. Invisible Header & Footer Containers & Layout Fix --- */
.flex-1.flex.flex-col { position: relative; } 
#chatMessages { 
    padding-top: 5rem; 
    padding-bottom: 7rem; 
    scroll-behavior: smooth; 
}
.flex-1 > header, .flex-1 > footer {
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border: none !important;
    box-shadow: none !important;
    position: absolute;
    left: 0;
    width: 100%;
}
.flex-1 > header { top: 0; z-index: 20; }
.flex-1 > footer { bottom: 0; z-index: 10; }

/* --- 4. Floating & Liquid Glass Elements --- */
#userInput, .flex-1 > header h1, .secondary-glass-button {
    background-color: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(8px) saturate(160%) brightness(1.2) !important;
    -webkit-backdrop-filter: blur(8px) saturate(160%) brightness(1.2) !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.37) !important;
    transition: all 0.2s ease-in-out, opacity 0.3s ease, transform 0.3s ease !important;
    color: #f9fafb !important;
}
#userInput:hover, .flex-1 > header h1:hover, .secondary-glass-button:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 12px 40px rgba(0,0,0,0.45) !important;
}
.flex-1 > header h1 { padding: 0.5rem 1.25rem; border-radius: 0.75rem; }
.flex-1 > header h1.is-scrolled {
    opacity: 0;
    transform: translateY(-5px) !important;
    pointer-events: none;
}
#userInput { border-radius: 9999px; padding-left: 1.5rem; }
#userInput::placeholder { color: #d1d5db; } 
#userInput:focus {
    box-shadow: 0 8px 32px rgba(0,0,0,0.37), 0 0 0 2px rgba(219, 39, 119, 0.4) !important;
}

/* Glass Buttons */
.secondary-glass-button, #micButton, #settingsButton, #toolsButton, #cancelSettingsButton, #resetSettingsButton, #closeToolsButton, .tool-button {
    border-radius: 9999px !important;
}
#micButton, #settingsButton, #toolsButton, #cancelSettingsButton, #resetSettingsButton, #closeToolsButton, .tool-button {
    background-color: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(8px) saturate(160%) brightness(1.2) !important;
    -webkit-backdrop-filter: blur(8px) saturate(160%) brightness(1.2) !important;
}
#micButton svg, #settingsButton svg, #toolsButton svg { stroke: #f9fafb; }

/* Primary Pink Action Buttons */
#newChatButton, #sendButton, #saveSettingsButton {
    background-color: #db2777 !important; 
    backdrop-filter: none !important; 
    -webkit-backdrop-filter: none !important;
    color: #FFF !important;
    border: none !important;
    box-shadow: 0 5px 20px rgba(219, 39, 119, 0.25) !important;
}
#newChatButton, #saveSettingsButton { border-radius: 0.75rem !important; }
#sendButton { border-radius: 9999px !important; }
#newChatButton:hover, #sendButton:hover, #saveSettingsButton:hover { 
    background-color: #ec4899 !important; 
    box-shadow: 0 8px 25px rgba(219, 39, 119, 0.4) !important;
    transform: translateY(-2px);
}
#sendButton svg { fill: #FFF; }

/* Modal Form Elements (Recessed Glass) */
#systemPromptTextarea, #voiceSelectDropdown, #modelSelectDropdown {
    background-color: rgba(0, 0, 0, 0.2) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.4) !important;
    border-radius: 0.75rem !important;
    color: #f9fafb !important;
}

/* --- 5. Black & Pink Chat Bubbles --- */
.chat-bubble.ai, .chat-bubble.user {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    color: #FFF; 
}

.chat-bubble.ai { /* AURA'S BUBBLE */
    background-color: #111827;
    border-left: 3px solid #db2777;
    border-radius: 1.5rem 1.5rem 1.5rem 0.5rem;
}
.chat-bubble.user { /* USER'S BUBBLE */
    background-color: #1f2937;
    border-radius: 1.5rem 1.5rem 0.5rem 1.5rem;
    border: none;
}

/* --- 6. Chat List Adjustments --- */
#chatList > div:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
    border-radius: 0.75rem;
}